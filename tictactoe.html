<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe</title>
    <style>
        html{
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            width: 100%;
        }
        body{
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            height: 100%;
            width: 100%;
        }
        #i_playbox{
            width: 40%;
            height: 60%;
            border: 2px solid black;
            display: grid;
            grid-template-columns: auto auto auto;
        }
        .c_cell{
            border: 2px solid black;
            cursor: pointer;
            font-size: large;
            color: black;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            width: 100%;
        }
        .c_oddcell{
            background-color: pink;
        }
        .c_evencell{
            background-color: gray;
        }
        #i_resultbox{
            height: 20%;
            width: 40%;
            border: 2px solid black;
            margin-top: 2%;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        h3{
            border: 2px solid black;
            height: 40%;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0%;
            background-color: aqua;
        }

        .c_result{
            border: 2px solid black;
            height: 30%;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0%;
        }

        #i_Xresult{
            background-color: yellow;
        }

        #i_Oresult{
            background-color: orange;
        }

    </style>
</head>
<body onload="return start()">

    <div id="i_playbox" name="n_playbox">
        <div id="i_cell0" name="n_cell0" class="c_oddcell c_cell" onclick="return clicked(0, id)">
            -
        </div>
        <div id="i_cell1" name="n_cell1" class="c_evencell c_cell" onclick="return clicked(1, id)">
            -
        </div>
        <div id="i_cell2" name="n_cell2" class="c_oddcell c_cell" onclick="return clicked(2, id)">
            -
        </div>
        <div id="i_cell3" name="n_cell3" class="c_evencell c_cell" onclick="return clicked(3, id)">
            -
        </div>
        <div id="i_cell4" name="n_cell4" class="c_oddcell c_cell" onclick="return clicked(4, id)">
            -
        </div>
        <div id="i_cell5" name="n_cell5" class="c_evencell c_cell" onclick="return clicked(5, id)">
            -
        </div>
        <div id="i_cell6" name="n_cell6" class="c_oddcell c_cell" onclick="return clicked(6, id)">
            -
        </div>
        <div id="i_cell7" name="n_cell7" class="c_evencell c_cell" onclick="return clicked(7, id)">
            -
        </div>
        <div id="i_cell8" name="n_cell8" class="c_oddcell c_cell" onclick="return clicked(8, id)">
            -
        </div>
    </div>

    <div id="i_resultbox" name="n_resultbox">
        <h3>
            Result
        </h3>
        <div id="i_Xresult" class="c_result" name="n_Xresult">
            ?
        </div>
        <div id="i_Oresult" class="c_result" name="n_Oresult">
            ?
        </div>
    </div>

    <script>
        function start(){

            chance='X';

        }
        
        function clicked(num, id){
            cellno=num;
            id=id;


            if (chance=='X'){
                if (document.getElementById(id).innerHTML.trim()=='-'){
                    document.getElementById(id).innerHTML='X';
                    document.getElementById(id).style.background='yellow';

                    
                    c0=document.getElementById('i_cell0').innerHTML.trim();
                    c1=document.getElementById('i_cell1').innerHTML.trim();
                    c2=document.getElementById('i_cell2').innerHTML.trim();
                    c3=document.getElementById('i_cell3').innerHTML.trim();
                    c4=document.getElementById('i_cell4').innerHTML.trim();
                    c5=document.getElementById('i_cell5').innerHTML.trim();
                    c6=document.getElementById('i_cell6').innerHTML.trim();
                    c7=document.getElementById('i_cell7').innerHTML.trim();
                    c8=document.getElementById('i_cell8').innerHTML.trim();

                    arrX=[c0=='X', c1=='X', c2=='X', c3=='X', c4=='X', c5=='X', c6=='X', c7=='X', c8=='X'];
                    arrO=[c0=='O', c1=='O', c2=='O', c3=='O', c4=='O', c5=='O', c6=='O', c7=='O', c8=='O'];

                                
                    r1X=arrX[0] && arrX[1] && arrX[2];
                    r2X=arrX[3] && arrX[4] && arrX[5];
                    r3X=arrX[6] && arrX[7] && arrX[8];
                    c1X=arrX[0] && arrX[3] && arrX[6];
                    c2X=arrX[1] && arrX[4] && arrX[7];
                    c3X=arrX[2] && arrX[5] && arrX[8];
                    ldX=arrX[0] && arrX[4] && arrX[8];
                    rdX=arrX[2] && arrX[4] && arrX[6];

                    
                    if (r1X||r2X||r3X||c1X||c2X||c3X||ldX||rdX){
                        document.getElementById('i_Xresult').innerHTML='X Won!'
                        document.getElementById('i_Oresult').innerHTML='O Lost!'
                        return;
                    }
                    chance='O';
                    return;
                }
                else{
                    alert('Cell already taken!');
                    return;
                }
            }
            if (chance=='O'){
                if (document.getElementById(id).innerHTML.trim()=='-'){
                    document.getElementById(id).innerHTML='O';
                    document.getElementById(id).style.background='orange';


                    c0=document.getElementById('i_cell0').innerHTML.trim();
                    c1=document.getElementById('i_cell1').innerHTML.trim();
                    c2=document.getElementById('i_cell2').innerHTML.trim();
                    c3=document.getElementById('i_cell3').innerHTML.trim();
                    c4=document.getElementById('i_cell4').innerHTML.trim();
                    c5=document.getElementById('i_cell5').innerHTML.trim();
                    c6=document.getElementById('i_cell6').innerHTML.trim();
                    c7=document.getElementById('i_cell7').innerHTML.trim();
                    c8=document.getElementById('i_cell8').innerHTML.trim();

                    arrX=[c0=='X', c1=='X', c2=='X', c3=='X', c4=='X', c5=='X', c6=='X', c7=='X', c8=='X'];
                    arrO=[c0=='O', c1=='O', c2=='O', c3=='O', c4=='O', c5=='O', c6=='O', c7=='O', c8=='O'];


                    r1O=arrO[0] && arrO[1] && arrO[2];
                    r2O=arrO[3] && arrO[4] && arrO[5];
                    r3O=arrO[6] && arrO[7] && arrO[8];
                    c1O=arrO[0] && arrO[3] && arrO[6];
                    c2O=arrO[1] && arrO[4] && arrO[7];
                    c3O=arrO[2] && arrO[5] && arrO[8];
                    ldO=arrO[0] && arrO[4] && arrO[8];
                    rdO=arrO[2] && arrO[4] && arrO[6];

    
                    if (r1O||r2O||r3O||c1O||c2O||c3O||ldO||rdO){
                        document.getElementById('i_Oresult').innerHTML='O Won!'
                        document.getElementById('i_Xresult').innerHTML='X Lost!'
                        return;
                    }
                    chance='X'
                    return;
                }
                else{
                    alert('Cell already taken!');
                    return;
                }
            }
            alert(cellno);
            alert(id);
        }
    </script>
</body>
</html>
